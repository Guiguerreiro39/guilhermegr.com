@import "tailwindcss";
@import "tw-animate-css";

body {
  width: 100dvw;
  overflow-x: hidden;
  min-height: 100dvh;
  min-height: -webkit-fill-available;
  @apply transition-colors duration-400;
}

html {
  scroll-behavior: smooth;
  height: -webkit-fill-available;
}

@custom-variant base (&:is(.base *));
@custom-variant japanese (&:is(.japanese *));
@custom-variant retro (&:is(.retro *));

@theme inline {
  --font-headers: var(--font-headers);
  --font-secondary: var(--font-secondary);
  --font-paragraph: var(--font-paragraph);

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --breakpoint-xs: 27rem;
}

:root {
  --background: #dfdff2;
  --foreground: #000000;
  --primary: #edff66;
  --primary-foreground: #000000;
  --accent: #5724ff;
  --accent-foreground: #ffffff;

  --font-headers: var(--font-monster-beast), sans-serif;
  --font-secondary: var(--font-general), sans-serif;
  --font-paragraph: var(--font-circular-web), sans-serif;
}

.retro {
  --font-headers: var(--font-ka1), sans-serif;
  --font-secondary: var(--font-orange-kid), sans-serif;
  --font-paragraph: var(--font-circular-web), sans-serif;

  --background: #c7bd95; /* light beige */
  --foreground: #1e142c; /* deep dark purple */

  --primary: #fce654ff; /* strong arcade blue */
  --primary-foreground: #1e142c; /* white for contrast */

  --accent: #8e0235ff; /* vibrant red/purple */
  --accent-foreground: #ffffff; /* white for contrast */
}

.japanese {
  --font-headers: var(--font-last-shuriken), sans-serif;
  --font-secondary: var(--font-hayamichi), sans-serif;
  --font-paragraph: var(--font-circular-web), sans-serif;

  --background: #dbd8d3ff;
  --foreground: #101314ff;
  --primary: #fec32c;
  --primary-foreground: #362b1cff;
  --accent: #fa5402ff;
  --accent-foreground: #dbd8d3ff;
}

@layer utilities {
  .border-hsla {
    @apply border border-white/20;
  }

  .nav-hover-btn {
    @apply font-secondary text-background retro:text-base japanese:text-sm after:bg-primary relative cursor-pointer text-xs uppercase after:absolute after:-bottom-0.5 after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 after:transition-transform after:duration-300 after:ease-[cubic-bezier(0.65_0.05_0.36_1)] hover:after:origin-bottom-left hover:after:scale-x-100;
  }

  .floating-nav {
    @apply bg-foreground/100;
  }

  .absolute-center {
    @apply absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%];
  }

  .flex-center {
    @apply flex items-center justify-center;
  }

  .mask-clip-path {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }

  .profile-clip-path {
    clip-path: polygon(
      0% 0%,
      0 60%,
      12% 71%,
      12% 100%,
      100% 100%,
      100% 16%,
      87% 12%,
      85% 0%
    );
  }

  .hero-heading {
    @apply font-headers retro:sm:text-6xl retro:md:text-7xl retro:lg:text-8xl retro:text-4xl w-fit text-5xl font-black tracking-wide uppercase sm:right-10 sm:text-6xl md:text-7xl lg:text-8xl;
  }

  .about-subtext {
    @apply font-paragraph w-full text-center text-xl;
  }

  .animated-word {
    transform: translate3d(10px, 51px, -60px) rotateY(60deg) rotateX(-40deg);
    transform-origin: 50% 50% -150px !important;
    will-change: opacity, transform;
  }

  #timeline-stage .ball {
    fill: var(--background);
    visibility: hidden;
  }

  #timeline-stage .line {
    fill: none;
    stroke: var(--background);
    stroke-width: 2px;
  }

  #timeline-stage .theLine {
    stroke: var(--background);
  }

  #timeline-stage text {
    visibility: hidden;
    fill: var(--background);
  }

  .wrapper .blur {
    position: absolute;
    z-index: 1;
    border-radius: 900px;
    filter: blur(clamp(40px, 5vw, 90px));
    background: var(--primary);
    opacity: 0.2;
  }

  .wrapper .blur:nth-child(1) {
    height: clamp(400px, 60vw, 60vw);
    width: calc(clamp(400px, 60vw, 60vw) * 1.1);
  }

  .wrapper .blur:nth-child(2) {
    filter: blur(clamp(40px, 5vw, 90px)) hue-rotate(135deg) brightness(1.3);
    height: clamp(300px, 40vw, 40vw);
    width: calc(clamp(300px, 40vw, 40vw) * 0.75);
    top: 20dvh;
    right: 20dvh;
  }

  .wrapper .blur:nth-child(3) {
    filter: blur(clamp(40px, 5vw, 90px)) hue-rotate(-135deg);
    height: clamp(100px, 10vw, 10vw);
    width: calc(clamp(100px, 10vw, 10vw) * 2);
    bottom: 20dvh;
    left: 20dvw;
  }

  .split {
    will-change: transform;
  }

  .split * {
    will-change: transform;
  }
}

.indicator-line {
  @apply h-1 w-px rounded-full bg-white transition-all duration-200 ease-in-out;
}

.indicator-line.active {
  animation: indicator-line 0.5s ease infinite;
  animation-delay: calc(var(--animation-order) * 0.1s);
}

@keyframes indicator-line {
  0% {
    height: 4px;
    transform: translateY(-0px);
  }
  50% {
    height: 16px;
    transform: translateY(-4px);
  }
  100% {
    height: 4px;
    transform: translateY(-0px);
  }
}
